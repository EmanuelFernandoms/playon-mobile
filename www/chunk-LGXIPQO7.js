import{a as V,b as B}from"./chunk-XFDSVCZC.js";import{e as T,g as F,k as D,l as H,o as $,v as j}from"./chunk-IFRWFENO.js";import"./chunk-OJUVZHLW.js";import"./chunk-QUJFQN2Y.js";import"./chunk-FEEG2QC5.js";import"./chunk-SHK2YYVN.js";import"./chunk-23JPK34T.js";import"./chunk-P5KSPTUK.js";import"./chunk-CXLC43CY.js";import"./chunk-RCM5NIA6.js";import"./chunk-7FY2OE2O.js";import"./chunk-DEX3QH37.js";import"./chunk-T27P4ZLZ.js";import"./chunk-VARVFX7A.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-5DNE6CQN.js";import"./chunk-CKP3SGE2.js";import"./chunk-AKIS33NR.js";import{a as z}from"./chunk-IRCD4QNX.js";import"./chunk-XIXWUKZM.js";import{$ as _,C as m,F as d,G as e,H as r,I as p,O,P as x,Q as g,Y as u,Z as i,_ as v,aa as h,eb as E,ga as b,ha as y,ja as S,m as C,n as P,na as I,pa as w,sa as k,u as a,w as f,y as M,zb as R}from"./chunk-GXCPHFE6.js";import"./chunk-IULK653U.js";import"./chunk-IGVXFY24.js";import"./chunk-5TIAO6TV.js";import"./chunk-BANGDX2W.js";import"./chunk-FZQDFHAZ.js";import"./chunk-CLDSZD2A.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-XTVTS2NW.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-JHI3MBHO.js";function A(o,c){o&1&&(e(0,"div",8),p(1,"ion-spinner"),e(2,"p"),i(3,"Carregando reservas..."),r()())}function U(o,c){o&1&&(e(0,"div",11),p(1,"ion-icon",12),e(2,"h2"),i(3,"Nenhuma reserva encontrada"),r(),e(4,"p"),i(5,"Voc\xEA ainda n\xE3o possui reservas cadastradas."),r()())}function Y(o,c){if(o&1&&(e(0,"div",21)(1,"div",33),p(2,"ion-icon",34),e(3,"div")(4,"span",23),i(5,"Observa\xE7\xF5es"),r(),e(6,"span",24),i(7),r()()()()),o&2){let t=g().$implicit;a(7),v(t.observacoes)}}function G(o,c){if(o&1){let t=O();e(0,"div",15),x("click",function(){let s=C(t).$implicit,l=g(3);return P(l.abrirReserva(s))}),e(1,"div",16)(2,"div",17),p(3,"ion-icon",18),e(4,"span"),i(5),r()(),e(6,"div",19),i(7),r()(),e(8,"div",20)(9,"div",21)(10,"div",22),p(11,"ion-icon",12),e(12,"div")(13,"span",23),i(14,"Data"),r(),e(15,"span",24),i(16),r()()(),e(17,"div",22),p(18,"ion-icon",25),e(19,"div")(20,"span",23),i(21,"Hor\xE1rio"),r(),e(22,"span",24),i(23),r()()()(),m(24,Y,8,1,"div",26),r(),e(25,"div",27)(26,"div",28)(27,"span",29),i(28,"Valor"),r(),e(29,"span",30),i(30),r()(),e(31,"div",31),p(32,"ion-icon",32),e(33,"span"),i(34),r()()()()}if(o&2){let t=c.$implicit,n=g(3);a(5),_("#",t.codigo||t.id),a(),u("status-confirmada",t.status==="confirmada")("status-pendente",t.status==="pendente")("status-cancelada",t.status==="cancelada"),a(),_(" ",t.status," "),a(9),v(n.formatarData(t.data)),a(7),h("",n.formatarHorario(t.hora_inicio)," - ",n.formatarHorario(t.hora_fim)),a(),d("ngIf",t.observacoes),a(6),_("R$ ",t.valor),a(),u("pago",t.pagamentos_status==="pago")("pendente",t.pagamentos_status==="pendente"),a(),d("name",t.pagamentos_status==="pago"?"checkmark-circle":"time-outline"),a(2),v(t.pagamentos_status)}}function L(o,c){if(o&1&&(e(0,"div",13),m(1,G,35,19,"div",14),r()),o&2){let t=g(2);a(),d("ngForOf",t.reservas)}}function q(o,c){if(o&1&&(e(0,"div"),m(1,U,6,0,"div",9)(2,L,2,1,"div",10),r()),o&2){let t=g();a(),d("ngIf",t.reservas.length===0),a(),d("ngIf",t.reservas.length>0)}}var ce=(()=>{let c=class c{constructor(n,s,l){this.http=n,this.router=s,this.authService=l,this.reservas=[],this.carregando=!0}ngOnInit(){this.carregarReservas()}carregarReservas(){let n=this.authService.getCurrentUser();if(!n||!n.id){this.carregando=!1;return}this.carregando=!0,this.http.get(`${R.apiBaseUrl}/getBookingByUserId?id=${n.id}`).subscribe({next:s=>{this.reservas=s||[],this.carregando=!1,console.log("Reservas:",s)},error:s=>{console.error("Erro ao carregar reservas:",s),this.carregando=!1}})}doRefresh(n){this.carregarReservas(),setTimeout(()=>{n.target.complete()},1e3)}abrirReserva(n){this.router.navigate(["/reserva",n.id])}formatarHorario(n){return n?n.substring(0,5):""}formatarData(n){return n?new Date(n).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}):""}};c.\u0275fac=function(s){return new(s||c)(f(I),f(k),f(z))},c.\u0275cmp=M({type:c,selectors:[["app-reservas"]],decls:12,vars:3,consts:[[1,"ion-padding",3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["pullingIcon","arrow-down","pullingText","Puxe para atualizar","refreshingSpinner","circles","refreshingText","Atualizando..."],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],["class","loading-container",4,"ngIf"],[4,"ngIf"],[1,"loading-container"],["class","empty-state",4,"ngIf"],["class","reservas-container",4,"ngIf"],[1,"empty-state"],["name","calendar-outline"],[1,"reservas-container"],["class","reserva-card",3,"click",4,"ngFor","ngForOf"],[1,"reserva-card",3,"click"],[1,"reserva-header"],[1,"reserva-id"],["name","ticket-outline"],[1,"reserva-status"],[1,"reserva-body"],[1,"reserva-info-row"],[1,"reserva-info-item"],[1,"info-label"],[1,"info-value"],["name","time-outline"],["class","reserva-info-row",4,"ngIf"],[1,"reserva-footer"],[1,"reserva-valor"],[1,"valor-label"],[1,"valor-amount"],[1,"reserva-pagamento"],[3,"name"],[1,"reserva-info-item","full-width"],["name","document-text-outline"]],template:function(s,l){s&1&&(p(0,"app-navbar"),e(1,"ion-content",0)(2,"ion-refresher",1),x("ionRefresh",function(N){return l.doRefresh(N)}),p(3,"ion-refresher-content",2),r(),e(4,"div",3)(5,"h1",4),i(6,"Minhas Reservas"),r(),e(7,"p",5),i(8,"Gerencie todas as suas reservas"),r()(),m(9,A,4,0,"div",6)(10,q,3,2,"div",7),r(),p(11,"app-footer")),s&2&&(a(),d("fullscreen",!0),a(8),d("ngIf",l.carregando),a(),d("ngIf",!l.carregando))},dependencies:[S,b,y,E,j,T,F,D,H,$,w,V,B],styles:[".ion-padding[_ngcontent-%COMP%]{--background: var(--background-color, #ffffff) !important;background-color:var(--background-color, #ffffff)!important;padding-bottom:80px!important}ion-content[_ngcontent-%COMP%]{--background: var(--background-color, #ffffff) !important;background-color:var(--background-color, #ffffff)!important}.page-header[_ngcontent-%COMP%]{margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid #f0f0f0}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{color:var(--text-color, #000000)!important;font-size:28px;font-weight:700;margin:0 0 8px}.page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{color:var(--text-secondary, #666666)!important;font-size:16px;margin:0}.loading-container[_ngcontent-%COMP%]{text-align:center;padding:60px 20px}.loading-container[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666!important;font-size:14px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:80px;color:#ccc!important;margin-bottom:24px}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--text-color, #000000)!important;font-size:22px;font-weight:600;margin:0 0 12px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary, #888888)!important;font-size:16px;margin:0}.reservas-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding-bottom:20px}.reserva-card[_ngcontent-%COMP%]{background:var(--card-background, #ffffff)!important;border:1px solid var(--border-color, #e0e0e0);border-radius:16px;padding:20px;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #0000000d;touch-action:manipulation;-webkit-tap-highlight-color:rgba(89,0,248,.1);user-select:none;-webkit-user-select:none}.reserva-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #5900f826;transform:translateY(-2px);border-color:var(--primary-color, #5900F8)}.reserva-card[_ngcontent-%COMP%]:active{transform:translateY(0);opacity:.8}.reserva-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;padding-bottom:16px;border-bottom:1px solid #f0f0f0}.reserva-header[_ngcontent-%COMP%]   .reserva-id[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#666!important;font-size:14px;font-weight:500}.reserva-header[_ngcontent-%COMP%]   .reserva-id[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;color:var(--primary-color, #5900F8)!important}.reserva-header[_ngcontent-%COMP%]   .reserva-status[_ngcontent-%COMP%]{padding:6px 14px;border-radius:20px;font-size:12px;font-weight:600;text-transform:capitalize}.reserva-header[_ngcontent-%COMP%]   .reserva-status.status-confirmada[_ngcontent-%COMP%]{background:#d4edda;color:#155724!important}.reserva-header[_ngcontent-%COMP%]   .reserva-status.status-pendente[_ngcontent-%COMP%]{background:#fff3cd;color:#856404!important}.reserva-header[_ngcontent-%COMP%]   .reserva-status.status-cancelada[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24!important}.reserva-body[_ngcontent-%COMP%]{margin-bottom:16px}.reserva-body[_ngcontent-%COMP%]   .reserva-info-row[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:12px}.reserva-body[_ngcontent-%COMP%]   .reserva-info-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.reserva-body[_ngcontent-%COMP%]   .reserva-info-item[_ngcontent-%COMP%]{display:flex;gap:12px;flex:1;align-items:flex-start}.reserva-body[_ngcontent-%COMP%]   .reserva-info-item.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.reserva-body[_ngcontent-%COMP%]   .reserva-info-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:#5900f8!important;margin-top:2px;flex-shrink:0}.reserva-body[_ngcontent-%COMP%]   .reserva-info-item[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;flex:1}.reserva-body[_ngcontent-%COMP%]   .reserva-info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{color:#666!important;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.reserva-body[_ngcontent-%COMP%]   .reserva-info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{color:#000!important;font-size:15px;font-weight:500;line-height:1.4}.reserva-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:16px;border-top:1px solid #f0f0f0}.reserva-footer[_ngcontent-%COMP%]   .reserva-valor[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.reserva-footer[_ngcontent-%COMP%]   .reserva-valor[_ngcontent-%COMP%]   .valor-label[_ngcontent-%COMP%]{color:#666!important;font-size:12px;font-weight:500}.reserva-footer[_ngcontent-%COMP%]   .reserva-valor[_ngcontent-%COMP%]   .valor-amount[_ngcontent-%COMP%]{color:var(--primary-color, #5900F8)!important;font-size:22px;font-weight:700}.reserva-footer[_ngcontent-%COMP%]   .reserva-pagamento[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:12px;font-size:12px;font-weight:600;text-transform:capitalize;background:#f0f0f0;color:#666!important}.reserva-footer[_ngcontent-%COMP%]   .reserva-pagamento[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:16px}.reserva-footer[_ngcontent-%COMP%]   .reserva-pagamento.pago[_ngcontent-%COMP%]{background:#d4edda;color:#155724!important}.reserva-footer[_ngcontent-%COMP%]   .reserva-pagamento.pago[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#155724!important}.reserva-footer[_ngcontent-%COMP%]   .reserva-pagamento.pendente[_ngcontent-%COMP%]{background:#fff3cd;color:#856404!important}.reserva-footer[_ngcontent-%COMP%]   .reserva-pagamento.pendente[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#856404!important}"]});let o=c;return o})();export{ce as ReservasPage};
